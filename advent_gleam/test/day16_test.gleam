import day16
import gleam/result
import gleeunit/should
import util

const input = "###############
#.......#....E#
#.#.###.#.###.#
#.....#.#...#.#
#.###.#####.#.#
#.#.#.......#.#
#.#.#####.###.#
#...........#.#
###.#.#####.#.#
#...#.....#.#.#
#.#.#.###.#.#.#
#.....#...#.#.#
#.###.#.#.#.#.#
#S..#.....#...#
###############"

const input_second = "#################
#...#...#...#..E#
#.#.#.#.#.#.#.#.#
#.#.#.#...#...#.#
#.#.#.#.###.#.#.#
#...#.#.#.....#.#
#.#.#.#.#.#####.#
#.#...#.#.#.....#
#.#.#####.#.###.#
#.#.#.......#...#
#.#.###.#####.###
#.#.#...#.....#.#
#.#.#.#####.###.#
#.#.#.........#.#
#.#.#.#########.#
#S#.............#
#################"

pub fn part1_test() {
  let maze = util.as_grid(input)
  day16.part1(maze)
  |> result.map(fn(r) { r.score })
  |> should.equal(Ok(7036))
}

pub fn part1_second_test() {
  let maze = util.as_grid(input_second)
  day16.part1(maze)
  |> result.map(fn(r) { r.score })
  |> should.equal(Ok(11_048))
}
